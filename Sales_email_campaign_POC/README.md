# B2B Sales Email Campaign System - AWS Strands POC

## ğŸ“ Project Structure

```
Sales_email_campaign_POC/
â”‚
â”œâ”€â”€ ğŸ“± app.py                           # ENTRY POINT - Streamlit UI
â”‚
â”œâ”€â”€ ğŸ¤– agents/                          # AI AGENTS
â”‚   â”œâ”€â”€ orchestrator.py                 # Main workflow coordinator
â”‚   â”œâ”€â”€ research_agent.py               # Enriches company data
â”‚   â”œâ”€â”€ content_agent.py                # Generates personalized emails
â”‚   â””â”€â”€ publishing_agent.py             # Sends & tracks emails
â”‚
â”œâ”€â”€ ğŸ› ï¸ utils/                           # HELPER FUNCTIONS
â”‚   â”œâ”€â”€ config.py                       # Configuration & settings
â”‚   â”œâ”€â”€ bedrock_client.py               # AWS Bedrock LLM wrapper
â”‚   â””â”€â”€ validators.py                   # Data validation logic
â”‚
â”œâ”€â”€ ğŸ’¾ data/                            # DATA STORAGE
â”‚   â”œâ”€â”€ prospects.csv                   # Input: Raw prospect list
â”‚   â”œâ”€â”€ enriched/                       # Output: Enriched data
â”‚   â””â”€â”€ campaigns/                      # Output: Campaign results
â”‚
â”œâ”€â”€ ğŸ—‚ï¸ sessions/                        # STRANDS SESSION PERSISTENCE
â”‚   â””â”€â”€ (auto-generated by FileSessionManager)
â”‚
â”œâ”€â”€ ğŸ“‹ requirements.txt                 # Python dependencies
â”œâ”€â”€ ğŸ” .env.example                     # Environment variables template
â””â”€â”€ ğŸ“– README.md                        # This file
```

---

## ğŸš€ Quick Start

### 1. Install Dependencies
```bash
pip install -r requirements.txt
```

### 2. Configure AWS Credentials
```bash
cp .env.example .env
# Edit .env with your AWS credentials and region
```

### 3. Run the Application
```bash
streamlit run app.py
```

---

## ğŸ”„ Workflow

```
1. Upload CSV â†’ 2. Research Agent â†’ 3. Content Agent â†’ 4. Human Approval â†’ 5. Publishing Agent
   (prospects)     (enrich data)      (generate email)    (review & edit)     (send & track)
```

### Step-by-Step:

1. **Upload Prospects**: CSV with company_name, location, budget, industry
2. **Research Agent**: Enriches with contacts, company info, recent news
3. **Content Agent**: Generates personalized email using AWS Bedrock
4. **Human Approval**: Review, edit, approve/reject (Strands Interrupt)
5. **Publishing Agent**: Sends via AWS SES, tracks opens/clicks

---

## ğŸ—ï¸ Architecture

### Multi-Agent System (AWS Strands)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ORCHESTRATOR (Graph)           â”‚
â”‚  Coordinates workflow & state       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼         â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Research â”‚â†’â”‚Content  â”‚â†’â”‚Publishingâ”‚
â”‚ Agent   â”‚ â”‚ Agent   â”‚ â”‚  Agent   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Key Features:

- **FileSessionManager**: Persists state across Streamlit reruns
- **Async Iterators**: Real-time agent reasoning in UI
- **Interrupts**: Human-in-the-loop approval workflow
- **AWS Bedrock**: Claude 3.5 Sonnet for email generation

---

## ğŸ“ File Descriptions

### Core Files

| File | Purpose |
|------|---------|
| `app.py` | Streamlit UI - main entry point |
| `agents/orchestrator.py` | Strands Graph - defines workflow |
| `agents/research_agent.py` | Enriches prospect data |
| `agents/content_agent.py` | Generates personalized emails |
| `agents/publishing_agent.py` | Sends emails & tracks engagement |

### Utilities

| File | Purpose |
|------|---------|
| `utils/config.py` | Environment variables & settings |
| `utils/bedrock_client.py` | AWS Bedrock API wrapper |
| `utils/validators.py` | Email & data validation |

### Data

| Folder | Purpose |
|--------|---------|
| `data/prospects.csv` | Input CSV with raw prospect data |
| `data/enriched/` | Enriched prospect data (JSON) |
| `data/campaigns/` | Campaign results & analytics |
| `sessions/` | Strands session state (auto-managed) |

---

## ğŸ”§ Configuration

### Required Environment Variables (.env)

```bash
# AWS Credentials
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_REGION=us-east-1

# AWS Services
BEDROCK_MODEL_ID=anthropic.claude-3-5-sonnet-20241022-v2:0
SES_SENDER_EMAIL=your-email@example.com

# Optional: Enrichment APIs
HUNTER_IO_API_KEY=your_hunter_key
CLEARBIT_API_KEY=your_clearbit_key

# Strands Settings
BYPASS_TOOL_CONSENT=true
```

---

## ğŸ“Š Sample Data Format

### Input CSV (prospects.csv)

```csv
company_name,location,budget,industry
Mayo Clinic,Rochester MN,500000,Healthcare
Tesla Inc,Austin TX,1000000,Technology
Walmart,Bentonville AR,750000,Retail
```

### Output (enriched JSON)

```json
{
  "company_name": "Mayo Clinic",
  "industry": "Healthcare",
  "contacts": [
    {
      "name": "John Smith",
      "title": "CIO",
      "email": "john.smith@mayoclinic.org"
    }
  ],
  "recent_news": ["Launched AI diagnostics program"],
  "enrichment_quality_score": 92
}
```

---

## ğŸ¯ Next Steps

1. âœ… Set up project structure
2. â³ Implement orchestrator graph
3. â³ Build research agent
4. â³ Build content agent
5. â³ Build publishing agent
6. â³ Create Streamlit UI
7. â³ Test end-to-end workflow

---

## ğŸ“š Documentation References

- [AWS Strands Documentation](https://docs.aws.amazon.com/strands/)
- [AWS Bedrock](https://docs.aws.amazon.com/bedrock/)
- [Streamlit Docs](https://docs.streamlit.io/)

---

## ğŸ¤ Contributing

This is a POC project. For production use:
- Add error handling
- Implement rate limiting
- Add comprehensive logging
- Set up monitoring
- Add unit tests
